import{k as x,au as g,av as p,d as h,r as t,j as r}from"./index-j_GBgB9-.js";import{S as f,F as b,a as y}from"./index-lh5n64ah.js";import{u as j}from"./index.esm-DEhy2fyu.js";import{c as N}from"./clsx-B-dksMZM.js";const E=()=>{const l=x(),{data:e}=g(l.id),[d]=p(),o=h(),[i,n]=t.useState(!1);console.log(e==null?void 0:e.user);const{register:a,handleSubmit:c,reset:m,setValue:s,formState:{errors:w}}=j();return t.useEffect(()=>{s("name",e&&e.user.name),s("email",e&&e.user.email),s("role",e&&e.user.role)},[e,s]),r.jsxs("div",{id:"editUser",className:"flex bg-gray-100 h-screen",children:[r.jsx(f,{}),r.jsx("div",{id:"toggleBtn",className:" md:hidden z-50 absolute right-5 top-5 w-10 h-10 rounded-full text-white flex items-center justify-center bg-green-500",onClick:()=>n(!i),children:r.jsx(b,{className:"text-xl"})}),r.jsx(y,{isOpen:i}),r.jsx("div",{className:"w-screen px-2 py-10",children:r.jsx("div",{className:"flex w-full bg-white flex-col space-y-5 rounded-lg border py-10 px-5 mt-2 shadow-xl mx-auto",children:r.jsxs("form",{noValidate:!0,onSubmit:c(u=>{d({role:u.role,id:l.id}),m(),o("/admin/users")}),className:"flex w-full flex-col space-y-5",children:[r.jsx("div",{className:"mb-2 space-y-3",children:r.jsx("h1",{className:" text-3xl font-bold text-gray-700",children:"Update Role"})}),r.jsxs("div",{children:[r.jsx("label",{className:"",children:" Name "}),r.jsx("input",{className:"mt-2  focus:border-none focus:ring-green-500 h-12 w-full rounded-md bg-gray-100 px-3 border-gray-300",type:"text",id:"name",placeholder:"Name",...a("name",{required:"name is required"}),readOnly:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"",children:" Email "}),r.jsx("input",{className:"mt-2  focus:border-none focus:ring-green-500 h-12 w-full rounded-md bg-gray-100 px-3 border-gray-300",type:"text",id:"email",placeholder:"Email",...a("email",{required:"email is required"}),readOnly:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"",children:" Category "}),r.jsxs("select",{id:"role",...a("role",{required:"role is required"}),className:"mt-2 h-12 flex w-full rounded-md focus:border-none focus:ring-green-500 select-none border p-2 px-3 bg-gray-100 border-gray-300 text-gray-700 ring-green-400 ",children:[r.jsx("option",{value:"user",children:"user"}),r.jsx("option",{value:"admin",children:"admin"})]})]}),r.jsx("button",{type:"submit",disabled:(e==null?void 0:e.user.role)==="admin"&&(e==null?void 0:e.user.email)==="relix049@gmail.com",className:N("rounded-lg  py-3 font-bold ",(e==null?void 0:e.user.role)==="admin"&&(e==null?void 0:e.user.email)==="relix049@gmail.com"?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-green-600 text-white cursor-pointer"),children:"Update"})]})})})]})};export{E as default};
