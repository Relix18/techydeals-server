import{l as y,ar as j,az as b,r as l,j as e,q as i,o as n}from"./index-DVX61_pb.js";import{c as x}from"./clsx-B-dksMZM.js";import{f as m}from"./format-CE4V3joc.js";const S=()=>{const{id:d}=y(),{data:s}=j(d),[u]=b(),[p,r]=l.useState(!1),c=s==null?void 0:s.order.items.reduce((t,a)=>t+Math.floor(a.product.price-a.product.price*a.product.discountPercentage/100)*a.quantity,0),f=c>500?0:50,h=c+f,o=new Intl.NumberFormat("en-IN",{currency:"INR",style:"currency",minimumFractionDigits:0,maximumFractionDigits:0}),g=()=>{u(d),r(!1)};return e.jsxs(e.Fragment,{children:[e.jsx(i,{appear:!0,show:p,as:l.Fragment,children:e.jsxs(n,{as:"div",className:"relative z-10",onClose:()=>r(!1),children:[e.jsx(i.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:e.jsx("div",{className:"fixed inset-0 bg-black/25"})}),e.jsx("div",{className:"fixed inset-0 overflow-y-auto",children:e.jsx("div",{className:"flex min-h-full items-center justify-center p-4 text-center",children:e.jsx(i.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:e.jsxs(n.Panel,{className:"w-full max-w-md transform overflow-hidden rounded-2xl bg-white p-6 text-left align-middle shadow-xl transition-all",children:[e.jsx(n.Title,{as:"h3",className:"text-lg font-medium leading-6 text-gray-900",children:"Are you sure you want to cancel this order?"}),e.jsxs("div",{className:"mt-4 flex w-full justify-center gap-4",children:[e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent bg-red-100 px-4 py-2 text-sm font-medium text-red-900 hover:bg-red-200 focus:outline-none",onClick:g,children:"Yes"}),e.jsx("button",{type:"button",className:"inline-flex justify-center rounded-md border border-transparent  px-4 py-2 text-sm font-medium text-gray-900 bg-gray-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-gray-500 focus-visible:ring-offset-2",onClick:()=>r(!1),children:"No"})]})]})})})})]})}),e.jsx("div",{className:"relative mx-auto max-w-screen-lg px-2 sm:px-6 lg:px-8",children:e.jsx("div",{className:"relative mx-auto my-10 grid max-w-lg gap-6 md:max-w-full lg:gap-10",children:e.jsx("div",{className:"flex flex-col rounded-xl  text-center shadow-xl border-t-4 border-green-300 shadow-green-200",children:e.jsx("div",{className:"flex flex-1 flex-col justify-between p-2 lg:py-7 lg:px-5",children:(s==null?void 0:s.order)&&e.jsxs("div",{className:"px-4 py-2 sm:px-8 sm:py-2",children:[e.jsxs("p",{className:x("flex text-lg font-semibold text-gray-500",{"text-green-500":s.order.orderStatus==="Delivered","text-red-500":s.order.orderStatus==="Cancelled","text-yellow-500":s.order.orderStatus==="Shipped","text-blue-500":s.order.orderStatus==="Processing"}),children:["Order ID: ",s.order.orderId]}),e.jsx("div",{className:"flow-root",children:e.jsx("ul",{className:"-my-2",children:s==null?void 0:s.order.items.map(t=>e.jsxs("li",{className:"flex py-6 text-left flex-row space-x-5 space-y-0",children:[e.jsx("div",{className:"shrink-0 relative",children:e.jsx("img",{className:"h-24 w-24 max-w-full rounded-lg object-contain",src:t.product.thumbnail.url,alt:""})}),e.jsx("div",{className:"relative flex flex-1 flex-col justify-between",children:e.jsxs("div",{className:"sm:col-gap-5 sm:grid sm:grid-cols-2",children:[e.jsxs("div",{className:"",children:[e.jsx("p",{className:"text-base font-semibold text-gray-900",children:t.product.name}),e.jsx("p",{className:"mx-0 mt-1 mb-0 text-sm text-gray-400",children:t.product.category}),e.jsxs("p",{className:"mx-0 mt-1 mb-0 text-sm text-gray-400",children:["Qty: ",t.quantity]})]}),e.jsx("div",{className:"mt-4 flex items-end justify-between sm:mt-0 sm:items-start sm:justify-end",children:e.jsx("p",{className:"shrink-0 w-20 text-base font-semibold text-gray-900 sm:order-2 sm:ml-8 sm:text-right",children:o.format(Math.floor(t.product.price-t.product.price*t.product.discountPercentage/100)*t.quantity)})})]})})]},t._id))})}),e.jsxs("div",{className:"mt-6 space-y-1 border-t border-b py-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-400",children:"Order Status"}),e.jsx("p",{className:x("font-bold text-center",{"text-green-500":s.order.orderStatus==="Delivered","text-red-500":s.order.orderStatus==="Cancelled","text-yellow-500":s.order.orderStatus==="Shipped","text-blue-500":s.order.orderStatus==="Processing"}),children:s.order.orderStatus})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-400",children:"Order Confirmed"}),e.jsx("p",{className:" font-semibold text-gray-900",children:m(new Date(s.order.createdAt),"dd/MM/yyyy")})]}),s.order.orderStatus==="Delivered"&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-400",children:"Delivered On"}),e.jsx("p",{className:" font-semibold text-gray-900",children:m(new Date(s.order.updatedAt),"dd/MM/yyyy")})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-gray-400",children:"Total"}),e.jsx("p",{className:" font-semibold text-gray-900",children:o.format(h)})]})]}),s.order.orderStatus==="Shipped"||s.order.orderStatus==="Processing"&&e.jsx("button",{onClick:()=>r(!0),className:"inline-flex mt-2 justify-center rounded-md border border-transparent w-full bg-red-200 px-4 py-2 text-sm font-medium text-red-800 hover:bg-red-300 focus:outline-none focus-visible:ring-2 focus-visible:ring-red-500 focus-visible:ring-offset-2",children:"Cancel Order"}),e.jsxs("div",{className:"mt-6 flex flex-col items-start",children:[e.jsx("h1",{className:" text-gray-400 mb-4 text-lg",children:"Shipping Details"}),e.jsx("p",{className:"mt-2 font-semibold text-lg mb-2",children:s==null?void 0:s.order.shippingInfo.name}),e.jsx("p",{className:"text-slate-500 text-sm leading-6",children:s==null?void 0:s.order.shippingInfo.street}),e.jsx("p",{className:"text-slate-500 text-sm leading-6",children:s==null?void 0:s.order.shippingInfo.city}),e.jsxs("p",{className:"text-slate-500 text-sm leading-6",children:[s==null?void 0:s.order.shippingInfo.state," -"," ",s==null?void 0:s.order.shippingInfo.zip]}),e.jsxs("p",{className:"text-slate-500 text-sm leading-6",children:["Phone number: ",s==null?void 0:s.order.shippingInfo.phone]})]})]})})})})})]})};export{S as default};
