import{r as i,a6 as q,an as S,_ as F,j as e,t as L}from"./index-DVX61_pb.js";import{S as A,F as G,a as M}from"./index-BaWoEQua.js";import{u as z,C as b}from"./index.esm-BtqeSDTU.js";import{c as j}from"./clsx-B-dksMZM.js";const B=()=>{const[l,o]=i.useState([]),[c,m]=i.useState(null),[u,f]=i.useState(!1),{data:x}=q(),[N,{error:D,isSuccess:h,isLoading:y}]=S(),{register:t,handleSubmit:v,reset:w,control:p,setValue:g,formState:{errors:n}}=z();console.log(x),i.useEffect(()=>{h&&F.success("Product Created Successfully")},[h]),i.useEffect(()=>{const s=[];l.forEach(r=>{s.push(r)}),g("images",s)},[l,g]);const C=s=>{const r=s.target.files[0];if(r){const a=new FileReader;a.onloadend=()=>{m(a.result),g("thumbnail",a.result)},a.readAsDataURL(r)}else m(null)},P=s=>{const r=Array.from(s.target.files);o([]),r.forEach(a=>{const d=new FileReader;d.onload=()=>{d.readyState===2&&o(k=>[...k,d.result])},d.readAsDataURL(a)})};return e.jsxs("div",{id:"Create",className:"flex bg-gray-100",children:[e.jsx(A,{}),e.jsx("div",{id:"toggleBtn",className:" md:hidden z-50 absolute right-5 top-5 w-10 h-10 rounded-full text-white flex items-center justify-center bg-green-500",onClick:()=>f(!u),children:e.jsx(G,{className:"text-xl"})}),e.jsx(M,{isOpen:u}),y?e.jsx(L,{}):e.jsx(e.Fragment,{children:!u&&e.jsx("div",{className:"w-screen px-2 py-10",children:e.jsxs("form",{noValidate:!0,onSubmit:v(s=>{N(s),w(),o([]),m(null)}),className:"relative border  border-gray-100 space-y-3 w-full mx-auto rounded-xl bg-white p-6 shadow-xl lg:p-4",children:[e.jsx("h1",{className:"mb-6 text-xl font-semibold lg:text-2xl",children:"Create New Product"}),e.jsxs("div",{children:[e.jsx("label",{className:"",children:" Name "}),e.jsx("input",{type:"text",placeholder:"Product Name",id:"name",className:"mt-2  focus:border-none focus:ring-green-500 h-12 w-full rounded-md bg-gray-100 px-3 border-gray-300",...t("name",{required:"name is required"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"",children:" Description "}),e.jsx("textarea",{placeholder:"Product Description",id:"description",...t("description",{required:"description is required"}),className:"mt-2 h-32 w-full rounded-md focus:border-none focus:ring-green-500 bg-gray-100 px-3 border-gray-300 resize-none"})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"",children:" Category "}),e.jsx("select",{id:"category",...t("category",{required:"category is required"}),className:"mt-2 h-12 flex w-full rounded-md focus:border-none focus:ring-green-500 select-none border p-2 px-3 bg-gray-100 border-gray-300 text-gray-700 ring-green-400 ",children:x&&x.categories.map(s=>e.jsx("option",{value:s.value,children:s.label}))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"",children:" Price (in Rupee) "}),e.jsx("input",{type:"number",placeholder:"Price",id:"price",...t("price",{required:"price is required"}),className:"mt-2 h-12 w-full rounded-md focus:border-none focus:ring-green-500 bg-gray-100 px-3 border-gray-300"})]})]}),e.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"",children:" Discount Percentage "}),e.jsx("input",{type:"tel",maxLength:2,placeholder:"Discount Percentage",className:"mt-2 h-12 w-full rounded-md focus:border-none focus:ring-green-500 bg-gray-100 px-3 border-gray-300",id:"discountPercentage",...t("discountPercentage",{required:"discount is required"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"",children:" Stock "}),e.jsx("input",{type:"number",id:"stock",placeholder:"Stock",...t("stock",{required:"stock is required"}),className:"mt-2 h-12 w-full rounded-md focus:border-none focus:ring-green-500 bg-gray-100 px-3 border-gray-300"})]})]}),e.jsxs("div",{className:"main-col",children:[e.jsx("div",{className:"select",children:e.jsx(b,{control:p,name:"thumbnail",rules:{required:"Thumbnail is required"},render:({field:s})=>e.jsx("div",{className:"file",children:e.jsxs("div",{id:"image-preview",className:j("max-w-lg p-6 mb-4 bg-gray-100  rounded-lg items-center mx-auto text-center cursor-pointer",!c&&"border-dashed border-2 border-gray-400"),children:[e.jsx("input",{id:"upload",type:"file",className:"hidden",name:"thumbnail",accept:"image/*",onChange:r=>{s.onChange(r),C(r)}}),e.jsx("label",{htmlFor:"upload",className:"cursor-pointer",children:c?e.jsx("img",{src:c,className:"max-h-48 rounded-lg mx-auto"}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8 text-gray-700 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),e.jsx("h5",{className:"mb-2 text-xl font-bold tracking-tight text-gray-700",children:"Upload Thumbnail"}),e.jsxs("p",{className:"font-normal text-sm text-gray-400 md:px-6",children:["Choose photo size should be less than"," ",e.jsx("b",{className:"text-gray-600",children:"2mb"})]}),e.jsxs("p",{className:"font-normal text-sm text-gray-400 md:px-6",children:["and should be in"," ",e.jsx("b",{className:"text-gray-600",children:"JPG, PNG, or GIF"})," ","format."]}),e.jsx("span",{id:"filename",className:"text-gray-500 bg-gray-200 z-50"})]})}),n.thumbnail&&e.jsxs("p",{className:"flex items-center justify-center text-rose-600  animate-scale-infinite ",children:[n.thumbnail.message,"*"]})]})})})}),e.jsx("div",{className:"select",children:e.jsx(b,{control:p,name:"images",rules:{required:"Images is required"},render:({field:s})=>e.jsx("div",{className:"file",children:e.jsxs("div",{id:"image-preview",className:j("max-w-lg overflow-auto p-6 mb-4 bg-gray-100  rounded-lg items-center mx-auto text-center cursor-pointer",l.length===0&&"border-dashed border-2 border-gray-400"),children:[e.jsx("input",{id:"images",accept:"image/*",type:"file",name:"images",className:"hidden",multiple:!0,onChange:r=>{s.onChange(r),P(r)}}),e.jsxs("label",{htmlFor:"images",className:"cursor-pointer",children:[e.jsx("div",{className:"flex",children:l.map((r,a)=>e.jsx("img",{className:"max-h-48 rounded-lg mx-auto",src:r,alt:"avatar"},a))}),l.length===0&&e.jsxs(e.Fragment,{children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-8 h-8 text-gray-700 mx-auto mb-4",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5"})}),e.jsx("h5",{className:"mb-2 text-xl font-bold tracking-tight text-gray-700",children:"Upload Images (Multiple)"}),e.jsxs("p",{className:"font-normal text-sm text-gray-400 md:px-6",children:["Choose photo size should be less than"," ",e.jsx("b",{className:"text-gray-600",children:"2mb"})]}),e.jsxs("p",{className:"font-normal text-sm text-gray-400 md:px-6",children:["and should be in"," ",e.jsx("b",{className:"text-gray-600",children:"JPG, PNG, or GIF"})," ","format."]}),e.jsx("span",{id:"filename",className:"text-gray-500 bg-gray-200 z-50"})]})]}),n.images&&e.jsxs("p",{className:"flex items-center justify-center text-rose-600  animate-scale-infinite ",children:[n.images.message,"*"]})]})})})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",className:"mt-5 w-full rounded-md bg-green-600 p-2 text-center font-semibold text-white",children:"Create"})})]})})})]})};export{B as default};
