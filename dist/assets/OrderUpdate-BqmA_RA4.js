import{l as u,at as f,au as j,r as i,_ as g,j as e}from"./index-Dfil4IDX.js";import{S as v,F as y,a as N}from"./index-CDrAqWqx.js";import{u as b}from"./index.esm-CXSo-_yE.js";import{c}from"./clsx-B-dksMZM.js";import{f as o}from"./format-CE4V3joc.js";const I=()=>{const a=u(),{data:s}=f(a.id),[n,{isSuccess:l}]=j(),[r,x]=i.useState(!1),{register:m,handleSubmit:p,reset:h,formState:{errors:S}}=b();return i.useEffect(()=>{l&&g.success("Updated")},[l]),e.jsx(e.Fragment,{children:e.jsxs("div",{id:"orderUpdate",className:"flex bg-gray-100",children:[e.jsx(v,{}),e.jsx("div",{id:"toggleBtn",className:" md:hidden z-50 absolute right-5 top-5 w-10 h-10 rounded-full text-white flex items-center justify-center bg-green-500",onClick:()=>x(!r),children:e.jsx(y,{className:"text-xl"})}),e.jsx(N,{isOpen:r}),!r&&e.jsx("div",{className:"w-screen bg-gray-100",children:s&&e.jsx("div",{className:"mx-auto max-w-screen-xl px-2 py-10",children:e.jsxs("div",{className:"mt-2 overflow-hidden rounded-xl bg-white px-6 shadow lg:px-4",children:[e.jsx("div",{className:"mt-4 mb-2 space-y-3",children:e.jsxs("h1",{className:c("md:text-3xl font-bold",s.order.orderStatus==="Processing"&&"text-blue-400",s.order.orderStatus==="Delivered"&&"text-green-500",s.order.orderStatus==="Shipped"&&"text-yellow-500",s.order.orderStatus==="Canceled"&&"text-red-500"),children:["#",s.order.orderId]})}),e.jsx("div",{className:"border-b"}),s==null?void 0:s.order.items.map((t,d)=>e.jsx(e.Fragment,{children:e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("div",{className:" py-4 text-left text-sm text-gray-600 sm:px-3 lg:text-left",children:e.jsxs("div",{className:"mt-1 flex flex-col md:flex-row gap-4 text-md font-medium ",children:[e.jsx("div",{className:"flex items-center h-24 w-18",children:e.jsx("img",{src:t.product.thumbnail.url,alt:t.product.name,className:"h-24 w-18 overflow-hidden rounded-sm "})}),e.jsxs("div",{className:"",children:[e.jsxs("div",{className:"",children:["Name:",t.product.name]}),e.jsxs("div",{className:"",children:["Category: ",t.product.category]}),e.jsxs("div",{className:"",children:["Qty: ",t.quantity]})]})]})}),e.jsxs("div",{className:"w-38 py-4 text-sm whitespace-nowrap text-right text-gray-600 sm:px-3 md:block flex flex-col items-end",children:[e.jsxs("div",{className:"",children:["Price: ₹",Math.floor(t.product.price-t.product.price*t.product.discountPercentage/100)]}),e.jsxs("div",{className:"",children:["Price * Qty: ₹",t.quantity*Math.floor(t.product.price-t.product.price*t.product.discountPercentage/100)]})]})]},d)})),e.jsxs("div",{className:"border-t md:flex pb-4 justify-between gap-2",children:[e.jsxs("div",{className:"whitespace-no-wrap pt-4 md:pt-4 text-left text-sm text-gray-600 sm:px-3 ",children:[e.jsx("h1",{className:"font-bold text-lg",children:"Summary"}),e.jsxs("div",{className:"mt-1 flex flex-col text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center",children:["Total Amount: ₹",s.order.total]}),e.jsxs("div",{className:"",children:["Order Date:"," ",o(new Date(s.order.createdAt),"dd/MMMM/yyyy")]}),e.jsxs("div",{className:c("",s.order.orderStatus==="Processing"&&"text-blue-400",s.order.orderStatus==="Delivered"&&"text-green-500",s.order.orderStatus==="Shipped"&&"text-yellow-500",s.order.orderStatus==="Canceled"&&"text-red-500"),children:["Status: ",s.order.orderStatus]}),e.jsxs("div",{className:"",children:["Total Amount: ₹",s.order.total]})]})]}),e.jsxs("div",{className:"whitespace-no-wrap md:text-right md:py-4 md:mt-8 text-sm text-gray-600 sm:px-3 ",children:[e.jsxs("div",{className:"",children:["Payment Method:"," ",s.order.paymentMethod==="online"?"Online":"Cash on Delivery"]}),e.jsxs("div",{className:s.order.paymentStatus==="Paid"?"text-green-500":"text-red-500",children:["Payment Status: ",s.order.paymentStatus]}),s.order.orderStatus==="Delivered"&&e.jsxs("div",{className:"text-green-500",children:["Delivered Date:"," ",o(new Date(s.order.updatedAt),"dd/MMMM/yyyy")]})]})]}),e.jsxs("div",{className:"border-t md:flex pb-4 justify-between gap-2",children:[e.jsxs("div",{className:"whitespace-no-wrap pt-4 md:pt-4 text-left text-sm text-gray-600 sm:px-3 ",children:[e.jsx("h1",{className:"font-bold text-lg",children:"Address"}),e.jsxs("div",{className:"mt-1 flex flex-col text-sm font-medium",children:[e.jsxs("div",{className:"flex items-center",children:["Name: ",s.order.shippingInfo.name]}),e.jsxs("div",{className:"",children:["Phone: ",s.order.shippingInfo.phone]}),e.jsxs("div",{className:"",children:["Street: ",s.order.shippingInfo.street]})]})]}),e.jsxs("div",{className:"whitespace-no-wrap md:text-right md:py-4 md:mt-8 text-sm text-gray-600 sm:px-3 ",children:[e.jsxs("div",{className:"",children:["City: ",s.order.shippingInfo.city]}),e.jsxs("div",{className:s.order.paymentStatus==="Paid"?"text-green-500":"text-red-500",children:["State: ",s.order.shippingInfo.state]}),e.jsx("div",{className:"",children:e.jsxs("div",{className:"",children:["Zip: ",s.order.shippingInfo.zip]})})]})]}),e.jsx("div",{className:"border-b"}),e.jsxs("form",{noValidate:!0,onSubmit:p(async t=>{if(t.status==="Status")return;const d={id:a.id,data:t};n(d),h()}),className:"flex w-full flex-col space-y-5 py-4",children:[e.jsxs("div",{className:" px-2",children:[e.jsxs("label",{className:"text-lg font-bold text-gray-700",children:[" ","Update Status"," "]}),e.jsxs("select",{id:"status",...m("status",{required:"status is required"}),className:"mt-2 h-12 flex w-full rounded-md focus:border-none focus:ring-green-500 select-none border p-2 px-3 bg-gray-100 border-gray-300 text-gray-700 ring-green-400 ",children:[e.jsx("option",{children:"Status"}),e.jsx("option",{value:"Cancelled",children:"Cancel"}),s&&s.order.orderStatus==="Processing"&&e.jsx("option",{value:"Shipped",children:"Shipped"}),s&&s.order.orderStatus==="Shipped"&&e.jsx("option",{value:"Delivered",children:"Delivered"})]})]}),e.jsx("div",{className:"px-2 w-full flex",children:e.jsx("button",{disabled:s&&s.order.orderStatus==="Delivered"||(s==null?void 0:s.order.orderStatus)==="Cancelled",type:"submit",className:" disabled:bg-gray-300 disabled:text-gray-700 disabled:cursor-not-allowed w-full rounded-lg bg-green-600 py-3 font-bold text-white",children:"Update"})})]})]})})})]})})};export{I as default};
